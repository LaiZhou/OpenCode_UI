<h1>OpenCode UI</h1>

<p>
  <b>OpenCode UI</b> is an open-source AI coding agent integration that brings the power of <a href="https://opencode.ai">opencode.ai</a> directly into your JetBrains IDE development workflow.
</p>

<h2>Key Features</h2>
<ul>
  <li><b>Quick Launch:</b> Instantly create or focus an "OpenCode" terminal session with a single shortcut (Cmd+Esc / Ctrl+Esc). The terminal launches only when you need it.</li>
  <li><b>Context Sharing:</b> Seamlessly send code selections or file references (with line numbers) from your editor or project view directly to the AI agent (Opt+Cmd+K).</li>
  <li><b>Diff Review:</b> Automatically review AI-generated code changes in chronological order using a native multi-file diff viewer.</li>
  <li><b>LocalHistory Protection:</b> All reject operations create recovery points, so you can always restore accidentally rejected changes.</li>
</ul>

<br>

<p>Follow these steps to set up and start using the OpenCode plugin:</p>
<ol>
  <li>Install a <b>compatible JetBrains IDE</b> (version 2025.2 or later).</li>
  <li><b>Install the OpenCode CLI:</b> This plugin acts as a bridge to the CLI tool. Ensure you have it installed:
    <br><code>npm install -g opencode</code>
  </li>
  <li><b>Ensure Git is installed:</b> The plugin uses local git commands for managing changes.</li>
  <li>Launch your IDE and ensure the plugin is enabled.</li>
  <li>Press <code>Cmd + Esc</code> (Mac) or <code>Ctrl + Esc</code> (Windows/Linux) to launch your first session.</li>
</ol>

<h2>Usage and Shortcuts</h2>
<ul>
  <li><b>Toggle Terminal:</b> <code>Cmd + Esc</code> (Mac) / <code>Ctrl + Esc</code> (Win/Linux) - Opens/focuses the terminal.</li>
  <li><b>Add Context:</b> <code>Opt + Cmd + K</code> (Mac) / <code>Ctrl + Alt + K</code> (Win/Linux) - Sends file references/selection to the terminal.</li>
  <li><b>Review Changes:</b> When OpenCode finishes a task, a notification will appear. Click <b>Review Changes</b> to open the diff viewer.</li>
</ul>

<h2>Diff Viewer Guide</h2>
<ul>
  <li><b>Order:</b> Diffs are presented in the order they were generated (chronological).</li>
  <li><b>Navigation:</b> Use <code>←</code> / <code>→</code> arrows to switch between modified files.</li>
  <li><b>Jump Changes:</b> Use <code>↑</code> / <code>↓</code> to jump between specific changes in the current file.</li>
  <li><b>Accept/Reject:</b> Use the toolbar buttons. <b>Accept</b> stages the file (git add). <b>Reject</b> restores the file to its pre-OpenCode state with LocalHistory protection.</li>
</ul>

<h2>Plugin Compatibility</h2>
<p>
  <b>Complementary Plugins:</b> This plugin requires the <b>Terminal</b> plugin (bundled by default).
</p>
